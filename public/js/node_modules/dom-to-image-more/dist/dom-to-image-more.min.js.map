{"version":3,"file":"dom-to-image-more.min.js","sources":["../src/dom-to-image-more.js"],"names":["global","util","let","uid_index","escape","string","replace","isDataUrl","url","search","canvasToBlob","canvas","toBlob","Promise","resolve","binaryString","atob","toDataURL","split","length","binaryArray","Uint8Array","i","charCodeAt","Blob","type","resolveUrl","baseUrl","doc","document","implementation","createHTMLDocument","base","createElement","a","head","appendChild","body","href","getAndEncode","cacheEntry","domtoimage","impl","urlCache","find","el","promise","push","options","cacheBust","test","Date","getTime","httpTimeout","request","XMLHttpRequest","onreadystatechange","readyState","status","placeholder","fail","encoder","FileReader","onloadend","result","readAsDataURL","response","ontimeout","responseType","timeout","useCredentials","withCredentials","open","send","message","console","error","imagePlaceholder","uid","Math","random","pow","toString","slice","delay","ms","arg","setTimeout","asArray","arrayLike","array","escapeXhtml","makeImage","uri","reject","image","Image","crossOrigin","onload","window","requestAnimationFrame","onerror","src","width","node","px","leftBorder","rightBorder","isNaN","scrollWidth","height","topBorder","bottomBorder","scrollHeight","getWindow","isElement","value","Element","isHTMLElement","HTMLElement","isHTMLCanvasElement","HTMLCanvasElement","isHTMLInputElement","HTMLInputElement","isHTMLImageElement","HTMLImageElement","isHTMLTextAreaElement","HTMLTextAreaElement","isSVGElement","SVGElement","isSVGRectElement","SVGRectElement","ownerDocument","undefined","defaultView","styleProperty","getComputedStyle","getPropertyValue","NaN","parseFloat","inliner","URL_REGEX","inlineAll","get","shouldProcess","then","readUrls","urls","done","forEach","prefix","inline","match","exec","filter","urlValue","dataUrl","RegExp","fontFaces","resolveAll","readAll","webFonts","all","map","webFont","cssStrings","join","styleSheets","cssRules","sheet","Object","getPrototypeOf","hasOwnProperty","bind","e","log","rule","CSSRule","FONT_FACE_RULE","style","rules","newWebFont","webFontRule","parentStyleSheet","cssText","images","inlineCSSProperty","newImage","childNodes","child","properties","inliningTasks","propertyName","priority","getPropertyPriority","inlinedValue","setProperty","element","defaultOptions","toSvg","toPng","draw","toJpeg","quality","toPixelData","getContext","getImageData","data","toCanvas","exports","module","ownerWindow","copyOptions","clonee","cloneNode","root","parentComputedStyles","tagName","makeNodeCopy","clone","cloneChildren","processClone","original","children","cloneChildrenInOrder","parent","childs","computedStyles","childClone","cloneStyle","clonePseudoElements","copyUserInput","fixSvg","copyFont","source","target","font","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariationSettings","fontWeight","copyStyle","sourceElement","targetElement","sourceComputedStyles","copyUserComputedStyleFast","removeProperty","prop","cloneClassName","clonePseudoElement","content","currentClass","getAttribute","styleElement","setAttribute","formatPseudoElementStyle","selector","formatCssText","formatCssProperties","createTextNode","styleText","formatProperty","name","propertyValue","propertyPriority","innerHTML","attribute","embedFonts","inlineImages","bgcolor","backgroundColor","keys","property","onCloneResult","onclone","svg","XMLSerializer","serializeToString","xhtml","foreignObject","sandbox","removeChild","removeDefaultStylesTimeoutId","clearTimeout","tagNameDefaultStyles","domNode","scale","ctx","fillStyle","fillRect","msImageSmoothingEnabled","imageSmoothingEnabled","drawImage","styleNode","defaultStyle","sandboxWindow","contentWindow","charsetToUse","characterSet","docType","doctype","docTypeDeclaration","escapeHTML","publicId","systemId","trim","id","visibility","position","charset","title","write","_","metaCharset","sandboxDocument","sandboxHTML","documentElement","outerHTML","contentDocument","unsafeText","div","innerText","defaultElement","textContent","defaultComputedStyle","targetStyle","needs_prefixing","sourceValue","defaultValue","parentValue","indexOf","this"],"mappings":"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"}